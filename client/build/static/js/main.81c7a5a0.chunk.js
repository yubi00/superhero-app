(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,r){},104:function(e,t,r){},105:function(e,t,r){},107:function(e,t,r){"use strict";r.r(t),r.d(t,"queryClient",(function(){return te}));var n=r(1),a=r(24),s=r.n(a),c=r(26),i=r(128),o=r(12),u=r(27),l=r(60),j=r.n(l),d=r(61),p=r.n(d),b=r(62),h=r.n(b),x=r(63),O=r.n(x),m=r(131),f=r(15),g=r.n(f),v=r(28),w=r(29),y=r.n(w),N=function(){var e=Object(v.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/superhero/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/superheroes");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/api/superhero",{superhero:t},{headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(g.a.mark((function e(t){var r,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.powerstats,e.prev=1,e.next=4,y.a.put("/api/superhero/".concat(r),{powerstats:n},{headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.abrupt("return",a.data.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("/api/superhero/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=r(132),q=r(120),A=r(121),D=r(59),I=r(122),P=r(123),Q=r(124),M=r(125),T=r(126),U=r(127),B=(r(88),r(39)),H=r(43),F=function(e){var t=Object(n.useState)(e),r=Object(c.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(""),o=Object(c.a)(i,2),u=o[0],l=o[1];return{values:a,onChangeHandler:function(e){l("");var t=parseInt(e.target.value,10);if(isNaN(t)||t<0||t>100)return l("* Invalid ".concat(e.target.name," field"));s((function(t){return Object(H.a)(Object(H.a)({},t),{},Object(B.a)({},e.target.name,e.target.value))}))},error:u}},J=r(2),R=function(e){var t=e.showModal,r=e.toggle,n=e.superhero,a=e.setMore,s=Object(m.a)(k,{onSuccess:function(e){te.getQueryData("favourites")&&te.setQueryData("favourites",(function(t){return t.map((function(t){return t.id===e.id?e:t}))})),te.invalidateQueries("favourites")}}),c=s.mutate,i=s.isLoading,o=s.isError,u=s.error,l=s.isSuccess,j=F(n.superhero.powerstats),d=j.values,p=j.onChangeHandler,b=j.error;return Object(J.jsxs)(E.a,{isOpen:t,toggle:r,children:[Object(J.jsxs)(q.a,{toggle:r,className:"bg-dark mb-0 w-100",children:["Editing"," ",Object(J.jsx)("span",{className:"text-white font-weight-bold h3 name",children:n.superhero.name})," ","Power Stats . . ."]}),Object(J.jsxs)(A.a,{className:"bg-dark mt-0",children:[b&&Object(J.jsx)(D.a,{color:"danger",className:"mt-2  h6  text-red ",children:b}),i?Object(J.jsx)(D.a,{color:"info",children:" Loading..."}):o?Object(J.jsx)(I.a,{color:"danger",children:u.message}):l?Object(J.jsxs)(I.a,{color:"success",children:[" ","Update Success"," "]}):null,Object(J.jsxs)(P.a,{onSubmit:function(e){e.preventDefault(),c({id:n.id,powerstats:d}),a(!1)},className:"form p-2 h3",children:[Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(M.a,{for:"intelligence",children:"Intelligence"}),Object(J.jsx)(T.a,{name:"intelligence",placeholder:"Intelligence",min:0,max:100,type:"number",step:"1",onChange:p,required:!0,value:d.intelligence})]}),Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(M.a,{for:"strength",children:"Strength"}),Object(J.jsx)(T.a,{name:"strength",placeholder:"Strength",min:0,max:100,type:"number",step:"1",onChange:p,required:!0,value:d.strength})]}),Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(M.a,{for:"speed",children:"Speed"}),Object(J.jsx)(T.a,{name:"speed",placeholder:"Speed",min:0,max:100,type:"number",step:"1",onChange:p,required:!0,value:d.speed})]}),Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(M.a,{for:"durability",children:"Durability"}),Object(J.jsx)(T.a,{name:"durability",placeholder:"Durability",min:0,max:100,type:"number",step:"1",onChange:p,required:!0,value:d.durability})]}),Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(M.a,{for:"power",children:"Power"}),Object(J.jsx)(T.a,{name:"power",placeholder:"Power",min:0,max:100,type:"number",step:"1",onChange:p,required:!0,value:d.power})]}),Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(M.a,{for:"combat",children:"Combat"}),Object(J.jsx)(T.a,{name:"combat",placeholder:"Combat",min:0,max:100,type:"number",step:"1",onChange:p,required:!0,value:d.combat})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(U.a,{color:"danger",children:i?"Updating...":l?"Updated":"Update"})," ",Object(J.jsx)(U.a,{color:"secondary",onClick:r,children:"Cancel"})]})]})]})]})},W=function(e){var t=e.intelligence,r=e.strength,n=e.speed,a=e.durability,s=e.power,c=e.combat;return Object(J.jsxs)("div",{className:"d-flex flex-column justify-content-center text-white h4",children:[Object(J.jsxs)("p",{children:[" ","Intelligence: ",Object(J.jsx)("span",{children:t})," "]}),Object(J.jsxs)("p",{children:[" ","Strength: ",Object(J.jsx)("span",{children:r})," "]}),Object(J.jsxs)("p",{children:[" ","Speed: ",Object(J.jsx)("span",{children:n})," "]}),Object(J.jsxs)("p",{children:[" ","Durability: ",Object(J.jsx)("span",{children:a})," "]}),Object(J.jsxs)("p",{children:[" ","Power: ",Object(J.jsx)("span",{children:s})," "]}),Object(J.jsxs)("p",{children:[" ","Combat: ",Object(J.jsxs)("span",{children:[" ",c," "]})]})]})},z=function(e){var t=e.superhero,r=e.type,a=Object(o.f)(),s=Object(n.useState)(!1),i=Object(c.a)(s,2),l=i[0],d=i[1],b=Object(n.useState)(!1),x=Object(c.a)(b,2),f=x[0],g=x[1],v="favourites"===r?t.superhero:t,w=v.name,y=v.image,N="favourites"===r?t.superhero.powerstats:t.powerstats,S=N.intelligence,k=N.strength,E=N.speed,q=N.durability,A=N.power,D=N.combat,I=Object(m.a)(C,{onSuccess:function(){te.invalidateQueries("favourites")}}),P=I.isLoading,Q=I.isError,M=I.error,T=I.mutate,U=I.isSuccess,B=Object(m.a)(L,{onSuccess:function(){te.invalidateQueries("favourites")}}),H=B.isLoading,F=B.isError,z=B.error,G=B.mutate,K=B.isSuccess,V=function(){f&&a.push("/favourites"),g(!f)};return Object(J.jsxs)("div",{className:"m-2 text-align-center rounded border border-white p-2",children:[Object(J.jsx)("img",{style:{background:"#ccc"},src:y,height:"200",width:"200",alt:w}),Object(J.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-1",children:[Object(J.jsxs)("p",{className:"h2",children:[" ",w," "]}),P?Object(J.jsx)("p",{children:" Adding... "}):Q?Object(J.jsxs)("p",{children:[" ",M.message," "]}):U?Object(J.jsx)("p",{children:"Added"}):null,H?Object(J.jsx)("p",{children:" Removing... "}):F?Object(J.jsxs)("p",{children:[" ",z.message," "]}):K?Object(J.jsx)("p",{children:"Removed"}):null,Object(J.jsxs)("div",{className:"d-flex justify-content-between text-white",children:[Object(J.jsx)(j.a,{className:"favourites"===r?"text-danger":"text-white",type:r,superhero:t,onClick:"favourites"===r?function(){G(t.id)}:function(){T(t)}}),l?Object(J.jsx)(h.a,{onClick:function(){return d((function(e){return!e}))}}):Object(J.jsx)(p.a,{onClick:function(){return d((function(e){return!e}))}})]})]}),l&&Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"d-flex m-3 align-items-center",children:[Object(J.jsx)("h3",{className:"mx-2",children:"Powerstats"}),"favourites"===r&&Object(J.jsxs)(u.b,{to:"/favourites/".concat(t.id),children:[" ",Object(J.jsx)(O.a,{onClick:V,className:"text-white bg-dark h3 rounded",children:"edit"})," "]})]}),Object(J.jsx)(W,{intelligence:S,speed:E,strength:k,combat:D,power:A,durability:q})]}),f&&Object(J.jsx)(R,{setMore:d,showModal:f,superhero:t,toggle:V})]})},G=function(e){var t=e.isLoading,r=e.isError,n=e.data,a=e.error,s=e.type;return t?Object(J.jsx)(i.a,{className:"h1 text-align-center",children:"Loading..."}):r?Object(J.jsxs)(i.a,{children:[a.message," "]}):Object(J.jsx)(i.a,{className:"mt-4 d-flex flex-wrap",children:Array.isArray(n)?n.map((function(e){return Object(J.jsx)(z,{superhero:e,type:s},e.id)})):Object(J.jsxs)("p",{className:"h1",children:[" ",n," "]})})},K=(r(102),function(e){var t=e.searchByText;return Object(J.jsx)(i.a,{children:Object(J.jsx)(T.a,{className:"p-4 search-input mb-2",type:"text",placeholder:"Search Superhero....",onChange:function(e){t(e.target.value)}})})}),V=(r(103),r(104),r(130));var X=function(){var e,t=Object(n.useState)(""),r=Object(c.a)(t,2),a=r[0],s=r[1],i=(e=a,Object(V.a)(["searchedlist",e],(function(){return N(e)}),{refetchOnWindowFocus:!1,enabled:!!e})),o=i.data,u=i.isLoading,l=i.isError,j=i.error;return Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)(K,{searchByText:function(e){s(e)}}),Object(J.jsx)(G,{isLoading:u,error:j,isError:l,data:o,type:"searchedlist"})]})},Y=r(129),Z=r(37),$=function(){var e=Object(V.a)("favourites",S),t=e.data,r=e.isLoading,n=e.isError,a=e.error;return r?Object(J.jsx)(i.a,{className:"h1",children:"Loading..."}):n?Object(J.jsx)(i.a,{className:"h1",children:a.message}):Object(J.jsx)("div",{children:Object(J.jsx)(G,{isLoading:r,error:a,isError:n,data:t,type:"favourites"})})},_=(r(105),function(){return Object(J.jsx)("header",{className:"header p-2",children:Object(J.jsxs)(i.a,{className:"d-flex justify-content-between  p-3 border border-white mb-2 ",children:[Object(J.jsx)(u.b,{to:"/",className:"link",children:"SuperHero App"}),Object(J.jsx)(u.b,{to:"/favourites",className:"link",children:"Favourites"})]})})}),ee=function(){return Object(J.jsxs)(u.a,{children:[Object(J.jsx)(_,{}),Object(J.jsxs)(o.c,{children:[Object(J.jsx)(o.a,{exact:!0,path:"/",component:X}),Object(J.jsx)(o.a,{path:"/favourites",component:$}),Object(J.jsx)(o.a,{path:"/favourites/:id",component:R})]})]})},te=new Y.a;s.a.render(Object(J.jsx)(Z.a,{client:te,children:Object(J.jsx)(ee,{children:Object(J.jsx)(X,{})})}),document.getElementById("root"))},88:function(e,t,r){}},[[107,1,2]]]);
//# sourceMappingURL=main.81c7a5a0.chunk.js.map